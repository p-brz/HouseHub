<?php

namespace lightninghowl\reader;



//use lightninghowl\reader\JsonReader;
/**
 * Generated by PHPUnit_SkeletonGenerator 1.2.1 on 2013-11-28 at 09:30:11.
 */
class JsonReaderTest extends \PHPUnit_Framework_TestCase {

    /**
     * @var JsonReader
     */
    private $object;
    
    public function setUp(){
        $jsonPath = __DIR__ . DIRECTORY_SEPARATOR . 'test.json';

        $this->object = new JsonReader($jsonPath);
    }


    /**
     * lightninghowl\reader\JsonReader::get
     */
    public function testGetA() {
        
        $d = DIRECTORY_SEPARATOR;
        $rootDir = realpath(__DIR__ . $d . '..' . $d . '..' . $d . '..' . $d);
        $jsonPath = $rootDir . $d . 'files' . $d . 'test' . $d . 'test.json';
        $this->object = new JsonReader($jsonPath);
        $this->assertEquals(1, $this->object->get('status'));
        $this->assertEquals('test', $this->object->get('message'));
        $this->assertEquals(array('foo' => 'bar'), $this->object->get('content'));
    }

    public function testGetB() {
        $this->object = new JsonReader('');
        $this->assertEquals(null, $this->object->get());
        $this->assertEquals(null, $this->object->get('foo'));
        $this->assertEquals(null, $this->object->get('bar'));
    }

    
    public function testConstruct(){
        $this->assertEquals('bar', $this->object->get('foo'));
    }
    
    public function testConstruct1(){
        $path = 'is not a file';
        $reader = new JsonReader($path);
        $this->assertNull($reader->get('foo'));
        $this->assertNull($reader->get('bar'));
    }
}
